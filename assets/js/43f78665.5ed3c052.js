"use strict";(self.webpackChunkgugol=self.webpackChunkgugol||[]).push([[63],{3905:(e,n,A)=>{A.d(n,{Zo:()=>c,kt:()=>p});var t=A(7294);function r(e,n,A){return n in e?Object.defineProperty(e,n,{value:A,enumerable:!0,configurable:!0,writable:!0}):e[n]=A,e}function a(e,n){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),A.push.apply(A,t)}return A}function i(e){for(var n=1;n<arguments.length;n++){var A=null!=arguments[n]?arguments[n]:{};n%2?a(Object(A),!0).forEach((function(n){r(e,n,A[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):a(Object(A)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(A,n))}))}return e}function o(e,n){if(null==e)return{};var A,t,r=function(e,n){if(null==e)return{};var A,t,r={},a=Object.keys(e);for(t=0;t<a.length;t++)A=a[t],n.indexOf(A)>=0||(r[A]=e[A]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)A=a[t],n.indexOf(A)>=0||Object.prototype.propertyIsEnumerable.call(e,A)&&(r[A]=e[A])}return r}var s=t.createContext({}),l=function(e){var n=t.useContext(s),A=n;return e&&(A="function"==typeof e?e(n):i(i({},n),e)),A},c=function(e){var n=l(e.components);return t.createElement(s.Provider,{value:n},e.children)},g="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var A=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),g=l(A),m=r,p=g["".concat(s,".").concat(m)]||g[m]||d[m]||a;return A?t.createElement(p,i(i({ref:n},c),{},{components:A})):t.createElement(p,i({ref:n},c))}));function p(e,n){var A=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=A.length,i=new Array(a);i[0]=m;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[g]="string"==typeof e?e:r,i[1]=o;for(var l=2;l<a;l++)i[l]=A[l];return t.createElement.apply(null,i)}return t.createElement.apply(null,A)}m.displayName="MDXCreateElement"},1574:(e,n,A)=>{A.r(n),A.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>g,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=A(7462),r=(A(7294),A(3905));const a={sidebar_position:1},i="Create 3D environment",o={unversionedId:"tutorial_1/create_scene",id:"tutorial_1/create_scene",title:"Create 3D environment",description:"First how do we render a 3D object inside our browser. The answers is WebGl but using raw WebGL is a very convoluted and time consuming process. So we use a library called ThreeJS that does all the hard work for us when it comes to managing the rendering pipeline. For more on WebGL and computer graphics in general checkout webgl2fundamentals.",source:"@site/docs/tutorial_1/create_scene.md",sourceDirName:"tutorial_1",slug:"/tutorial_1/create_scene",permalink:"/ThreeJS_VR_app_quickstart/docs/tutorial_1/create_scene",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Make a scene",permalink:"/ThreeJS_VR_app_quickstart/docs/category/make-a-scene"},next:{title:"importing GLFT models",permalink:"/ThreeJS_VR_app_quickstart/docs/tutorial_1/importing_glft_models"}},s={},l=[{value:"Conclusion",id:"conclusion",level:2},{value:"Next tutorial",id:"next-tutorial",level:2}],c={toc:l};function g(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,t.Z)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"create-3d-environment"},"Create 3D environment"),(0,r.kt)("p",null,"First how do we render a 3D object inside our browser. The answers is WebGl but using raw WebGL is a very convoluted and time consuming process. So we use a library called ThreeJS that does all the hard work for us when it comes to managing the rendering pipeline. ",(0,r.kt)("a",{parentName:"p",href:"https://webgl2fundamentals.org/"},"For more on WebGL and computer graphics in general checkout webgl2fundamentals.")),(0,r.kt)("p",null,"If anything goes wrong in this tutorial check for errors in the console. To open the console press F12 or right click on the page and select inspect. The console is where we will be looking for errors and warnings. Also the console is where we will be printing debug messages and other information."),(0,r.kt)("p",null,"Before we can render anything we have to define the page. The page can contain anything we want but most importantly it must contain a space where the renderer will draw the scene. In our case that is a ",(0,r.kt)("strong",{parentName:"p"},"div")," with id ",(0,r.kt)("strong",{parentName:"p"},'"canvas"')," that occupies the whole body of the page. The page must also link to a script that will run the logic behind our renderer. Note the script is linked as type ",(0,r.kt)("strong",{parentName:"p"},"module"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'\x3c!-- index.html --\x3e\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>PUT TITLE HERE</title>\n    <script src="./app.js" type="module"><\/script>\n</head>\n<body>\n<div id="canvas">\n\x3c!-- space reserved for the renderer --\x3e\n</div>\n\x3c!-- page can have other html elements some can even be styled to overlap the space delegated to the renderer --\x3e\n</body>\n</html>\n')),(0,r.kt)("p",null,"The code above will result in a blank static page.\nNext we define the renderer component in the scrip and append it to the element we created earlier."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// app.js\nimport {\n    Scene,\n    PerspectiveCamera,\n    WebGLRenderer,\n} from '../node_modules/three/build/three.module.js';\n\n//to display the canvas properly remove margins at the window edges\ndocument.body.setAttribute('style', 'margin: 0; overflow: hidden;');\n//global variable and object declarations ****************************************************\nlet scene = new Scene();\nlet camera = new PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n// setup renderer\nvar renderer = new WebGLRenderer({ antialias: true });\nrenderer.setPixelRatio(window.devicePixelRatio);\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.getElementById(\"canvas\").appendChild(renderer.domElement);\n")),(0,r.kt)("p",null,"Right now we defined the renderer, scene and the camera but nothing is being drawn jet. For that we need to tell the render to draw us a frame.\nWe usually do this by implementing a rendering loop, or preform draw calls when we detect a change.\nIn this case we will ise a rendering loop that will continually update the canvas."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"//app.js\nrenderer.setAnimationLoop(()=>{\n    renderScene();\n});\n\nfunction renderScene(){\n    renderer.clear();\n    renderer.render(scene, camera);\n}\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"blank page",src:A(5286).Z,width:"1260",height:"542"})),(0,r.kt)("p",null,"Alright the renderer is rendering the scene witch is currently empty, so we see only emptiness.\nFor something interesting to be hapening we have to populate the scene with lights and objects.\nWe will start with a simple scene that contains a single cube and a light source.\nWe will also define the camera position and orientation so that the cube is in frame when rendering the scene."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"scene objects",src:A(5180).Z,width:"1096",height:"499"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"//app.js\n//add the following imports\nimport {\n    Color,\n    AmbientLight,\n    BoxGeometry,\n    MeshLambertMaterial,\n    PointLight,\n    Mesh,\n} from '../node_modules/three/build/three.module.js';\n\nfunction sceneInit() {\n    //setup lighting\n    scene.background = new Color(0x383838);\n    const light = new PointLight(0xffffff, 1, 100);\n    light.position.set(5, 10, 5);\n    scene.add(light);\n    const ambientLight = new AmbientLight(0xffffee, 0.2);\n    scene.add(ambientLight);\n\n    //create a box\n    const geometry = new BoxGeometry(0.5, 0.5, 0.5); //note that the cube is centered at the origin\n    const material = new MeshLambertMaterial({ color: 0x00ff00 });\n    const cube1 = new Mesh(geometry, material);\n    cube = cube1;\n    scene.add(cube); //add the cube to the scene\n\n    //define camera position and orientation\n    camera.position.z = 0.5;\n    camera.position.y = 1.5;\n    camera.position.x = 0.5;\n    camera.lookAt(0, 0, 0); //look at the origin where the cube is\n}\n\n//calling the above function\nsceneInit(); //setup lighting and objects\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"cube",src:A(4283).Z,width:"844",height:"274"})),(0,r.kt)("p",null,"Now we should have a scene with a single cube but to make it more interesting we will animate the cube by changing its rotation every frame. We will do this by adding the following code to the render loop."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"cube.rotation.x += 0.01;\ncube.rotation.y += 0.01;\n")),(0,r.kt)("p",null,"The final result should look something like this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"cube animated",src:A(6678).Z,width:"525",height:"200"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import {\n    Scene,\n    PerspectiveCamera,\n    WebGLRenderer,\n    Vector3,\n    Color,\n    AmbientLight,\n    BoxGeometry,\n    MeshLambertMaterial,\n    PointLight,\n    Mesh,\n} from '../node_modules/three/build/three.module.js';\n\n//to display the canvas properly remove margins at the window edges\ndocument.body.setAttribute('style', 'margin: 0; overflow: hidden;');\n\n//global varible and object declarations ****************************************************\nlet scene = new Scene();\nlet camera = new PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n\nlet cube;\n\n// setup renderer\nvar renderer = new WebGLRenderer({ antialias: true });\nrenderer.setPixelRatio(window.devicePixelRatio);\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.xr.enabled = true;\nrenderer.autoClear = false;\ndocument.getElementById(\"canvas\").appendChild(renderer.domElement);\n\nfunction sceneInit() {\n    scene.background = new Color(0x383838);\n    const light = new PointLight(0xffffff, 1, 100);\n    light.position.set(5, 10, 5);\n    scene.add(light);\n    const ambientLight2 = new AmbientLight(0xffffee, 0.2);\n    scene.add(ambientLight2);\n\n    //create a box\n    const geometry = new BoxGeometry(0.5, 0.5, 0.5);\n    const material = new MeshLambertMaterial({ color: 0x00ff00 });\n    const cube1 = new Mesh(geometry, material);\n    cube = cube1;\n    scene.add(cube);\n\n    camera.position.z = 0.5;\n    camera.position.y = 1.5;\n    camera.position.x = 0.5;\n    camera.lookAt(0, 0, 0);\n}\n\nsceneInit(); //setup lighting and helper objects\n\n//setup program loop\nrenderer.setAnimationLoop(()=>{\n    renderScene();\n});\n\nfunction renderScene(){\n    cube.rotation.x += 0.01;\n    cube.rotation.y += 0.01;\n    renderer.clear();\n    renderer.render(scene, camera);\n}\n\nwindow.addEventListener('resize', onWindowResize);\nfunction onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n}\n")),(0,r.kt)("p",null,"As for the final touch I added a resize event listener that will update the camera aspect ratio and the renderer size when the window is resized."),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"In this tutorial we learned how to setup a basic three.js project and how to render a scene with a single cube.\nWe also learned how to animate the cube by changing its rotation every frame."),(0,r.kt)("h2",{id:"next-tutorial"},"Next tutorial"),(0,r.kt)("p",null,"As we can see the code is starting to get a bit messy so in the next tutorial we will learn how to organize the code in a more modular way.\nWe already hade a taste of organizing the code by encapsulating code in functions like ",(0,r.kt)("strong",{parentName:"p"},"SceneInit()")," or ",(0,r.kt)("strong",{parentName:"p"},"RenderScene()"),"\nbut we will go a step further and create a class for the scene.\nThis will allow us to have a better overview of the code and to reuse the code in other projects."))}g.isMDXComponent=!0},6678:(e,n,A)=>{A.d(n,{Z:()=>t});const t=A.p+"assets/images/animation_cube-7962be869cc33edafbd5387e48c60f14.gif"},5286:(e,n,A)=>{A.d(n,{Z:()=>t});const t=A.p+"assets/images/blank_scene-2765f7c08c35b6f99bfc960f42f34537.png"},5180:(e,n,A)=>{A.d(n,{Z:()=>t});const t=A.p+"assets/images/simple_scene_1-ab20d6d459eaa86d3b68279dade2da57.png"},4283:(e,n,A)=>{A.d(n,{Z:()=>t});const t="data:image/png;base64,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"}}]);